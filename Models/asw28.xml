<?xml version="1.0"?>

<!-- Copyright 2010 Patrice Poly; 2016/2017 D-ECHO -->

<PropertyList>

 <path>asw28.ac</path>

  <nasal>
    <load>
      var livery_update = aircraft.livery_update.new("Aircraft/ASW28/Models/Liveries", 10);

      var float_0 = self.getNode("sim/multiplay/generic/float[0]", 1);
      
      var canopy_door = self.getNode("sim/model/door-positions/canopy/position-norm", 1);
      
      canopy_door.alias(float_0);
    </load>

    <unload>
      livery_update.stop();
      canopy_door.unalias();
    </unload>
  </nasal>
 
  <effect>
    <inherits-from>Effects/model-transparent</inherits-from>
    <object-name>canopy</object-name>
  </effect>
 
  
 <!--Canopy-->
  <animation>
    <type>pick</type>
     <object-name>canopy</object-name>
     <object-name>canopy.int</object-name>
     <object-name>canopyframe</object-name>
    <visible>true</visible>
    <action>
      <button>0</button>
      <repeatable>false</repeatable>
      <binding>
        <command>nasal</command>
        <script>doors.canopy.toggle();</script>
      </binding>
    </action>
  </animation>
 
 <animation>
     <type>rotate</type>
     <object-name>canopy</object-name>
     <object-name>canopy.int</object-name>
     <object-name>canopyframe</object-name>
     <object-name>window</object-name>
     <object-name>woolthread</object-name><!--
     <object-name>door</object-name>
     <object-name>door.int</object-name>
     <object-name>panel</object-name>
     <object-name>Vario1</object-name>
     <object-name>Vario2</object-name>
     <object-name>ASI</object-name>
     <object-name>ALT</object-name>
     <object-name>COMP</object-name>
     <object-name>COMM</object-name>-->
    <property>sim/model/door-positions/canopy/position-norm</property>
   <interpolation>
     <entry>
       <ind>0.0</ind>
       <dep>0</dep>
     </entry>
     <entry>
       <ind>0.2</ind>
       <dep>-1</dep>
     </entry>
     <entry>
       <ind>1</ind>
       <dep>-50</dep>
     </entry>
      </interpolation>
		<center>
			<x-m>-3.04753</x-m>
			<z-m>0.05074</z-m>
		</center>
        <axis>
            <y>1</y>
        </axis>
 </animation>
 
    <!--Small windows-->
    <animation>
        <type>slider</type>
        <object-name>window</object-name>
        <visible>true</visible>
        <action>
            <button>0</button>
            <repeatable>false</repeatable>
            <binding>
                <command>property-adjust</command>
                <property>sim/model/door-positions/frontwin/position-norm</property>
                <factor>-0.05</factor>
                <min>0</min>
                <max>1</max>
            </binding>
        </action>
    </animation>
    <animation>
        <type>translate</type>
        <object-name>window</object-name>
        <property>sim/model/door-positions/frontwin/position-norm</property>
        <interpolation>
            <entry>
                <ind>0</ind>
                <dep>0</dep>
            </entry>
            <entry>
                <ind>0.1</ind>
                <dep>0.005</dep>
            </entry>
            <entry>
                <ind>1</ind>
                <dep>0.005</dep>
            </entry>
        </interpolation>
        <axis>
            <y>1</y>
        </axis>
    </animation>
    <animation>
        <type>translate</type>
        <object-name>window</object-name>
        <property>sim/model/door-positions/frontwin/position-norm</property>
        <interpolation>
            <entry>
                <ind>0</ind>
                <dep>0</dep>
            </entry>
            <entry>
                <ind>0.1</ind>
                <dep>0.0</dep>
            </entry>
            <entry>
                <ind>1</ind>
                <dep>0.15</dep>
            </entry>
        </interpolation>
        <axis>
            <x1-m>-2.13081</x1-m>
            <y1-m>-0.28408</y1-m>
            <z1-m>-0.01885</z1-m>
            <x2-m>-1.81312</x2-m>
            <y2-m>-0.27967</y2-m>
            <z2-m>0.04314</z2-m>
        </axis>
    </animation>
 
 <animation>
     <type>translate</type>
     <object-name>wheelM</object-name>
     <property>gear/gear/position-norm</property>
   <interpolation>
     <entry>
       <ind>1.0</ind>
       <dep>0</dep>
     </entry>
     <entry>
       <ind>0.1</ind>
       <dep>0.28</dep>
     </entry>
     <entry>
       <ind>0</ind>
       <dep>0.28</dep>
     </entry>
      </interpolation>
     <axis><z>1</z></axis>
 </animation>
 <animation>
     <type>rotate</type>
     <object-name>geardoorL</object-name>
     <property>gear/gear/position-norm</property>
   <interpolation>
     <entry>
       <ind>1.0</ind>
       <dep>-90</dep>
     </entry>
     <entry>
       <ind>0.1</ind>
       <dep>-90</dep>
     </entry>
     <entry>
       <ind>0</ind>
       <dep>0</dep>
     </entry>
      </interpolation>
        <axis>
            <x1-m>-1.58474</x1-m>
            <y1-m>-0.08746</y1-m>
            <z1-m>-0.5074</z1-m>
            <x2-m>-1.1621</x2-m>
            <y2-m>-0.08678</y2-m>
            <z2-m>-0.4275</z2-m>
        </axis>
 </animation>
 <animation>
     <type>rotate</type>
     <object-name>geardoorR</object-name>
     <property>gear/gear/position-norm</property>
   <interpolation>
     <entry>
       <ind>1.0</ind>
       <dep>90</dep>
     </entry>
     <entry>
       <ind>0.1</ind>
       <dep>90</dep>
     </entry>
     <entry>
       <ind>0</ind>
       <dep>0</dep>
     </entry>
      </interpolation>
        <axis>
            <x1-m>-1.58474</x1-m>
            <y1-m>0.08746</y1-m>
            <z1-m>-0.5074</z1-m>
            <x2-m>-1.1621</x2-m>
            <y2-m>0.08678</y2-m>
            <z2-m>-0.4275</z2-m>
        </axis>
 </animation>
 <animation>
     <type>translate</type>
     <object-name>wheelM</object-name>
     <property>gear/gear[1]/compression-norm</property>
     <factor>0.1</factor>
     <axis><z>1</z></axis>
 </animation>
 <animation>
     <type>spin</type>
     <object-name>wheelM</object-name>
     <property>gear/gear[1]/rollspeed-ms</property>
    <factor>-50</factor>
    <center>
            <x-m>-1.30486</x-m>
            <z-m>-0.56001</z-m>
    </center>
     <axis><y>1</y></axis>
 </animation>
 <animation>
     <type>translate</type>
     <object-name>wheelR</object-name>
     <property>gear/gear[2]/compression-norm</property>
     <factor>0.1</factor>
     <axis><z>1</z></axis>
 </animation>
 
  <model>
      <name>Vario1</name>
	 <path>instruments/ilec-sc7/ilec-sc7.xml</path>
	 <offsets>
		 <x-m>-2.36697</x-m>
		 <y-m>0.0</y-m>
		 <z-m>-0.08082</z-m>
	 </offsets>	 
 </model>
 
  <model>
      <name>Vario2</name>
	 <path>instruments/vario-5stv5/winter-vario-5stv5.xml</path>
	 <offsets>
		 <x-m>-2.36697</x-m>
		 <y-m>0.0</y-m>
		 <z-m>-0.17798</z-m>
	 </offsets>	 
 </model>
 
  <model>
      <name>ASI</name>
	 <path>instruments/winter-asi-ask21-kph/80mm_asi_6fms4.xml</path>
	 <offsets>
		 <x-m>-2.36697</x-m>
		 <y-m>-0.09338</y-m>
		 <z-m>-0.0802</z-m>
	 </offsets>	 
     </model>

   <model>
       <name>COMP</name>
	 <path>instruments/MagneticCompass/MagneticCompass.xml</path>
	 <offsets>
		 <x-m>-2.36697</x-m>
		 <y-m> 0.0</y-m>
		 <z-m>-0.02</z-m>
		 <pitch-deg>0</pitch-deg>
	 </offsets>	 
 </model>
  
  <model>
      <name>woolthread</name>
	 <path>instruments/wool-thread/wool-thread.xml</path>
	 <offsets>
		 <x-m>-2.55474</x-m>
		 <y-m> 0</y-m>
		 <z-m>0.12099</z-m>
		 <pitch-deg>0</pitch-deg>
	 </offsets>	 
 </model>
 
  <model>
      <name>COMM</name>
	 <path>Aircraft/Instruments-3d/ar-3201/ar-3201.xml</path>
	 <offsets>
		 <x-m>-2.36697</x-m>
		 <y-m> 0.0</y-m>
		 <z-m>-0.26258</z-m>
	 </offsets>	 
 </model>
 
   <model>
       <name>ALT</name>
	 <path>Aircraft/Instruments-3d/winter-alti-4110/winter-4110.xml</path>
	 <offsets>
		 <x-m>-2.36697</x-m>
		 <y-m>0.09338</y-m>
		 <z-m>-0.0802</z-m>
	 </offsets>	 
 </model>


  <effect>
    <inherits-from>Effects/model</inherits-from>
    <object-name>body</object-name>
     <object-name>canopyframe</object-name>
    <object-name>hstab</object-name>
    <object-name>elevator</object-name>
    <object-name>vstab</object-name>
    <object-name>rudder</object-name>
    <object-name>wings</object-name>
    <object-name>spoilers</object-name>
    <object-name>aileronL</object-name>
    <object-name>aileronR</object-name>
     <object-name>geardoorL</object-name>
     <object-name>geardoorR</object-name>
  </effect>
  <animation>
    <type>material</type>
    <object-name>body</object-name>
     <object-name>canopyframe</object-name>
    <object-name>hstab</object-name>
    <object-name>elevator</object-name>
    <object-name>vstab</object-name>
    <object-name>rudder</object-name>
    <object-name>wings</object-name>
    <object-name>spoilers</object-name>
    <object-name>aileronL</object-name>
    <object-name>aileronR</object-name>
     <object-name>geardoorL</object-name>
     <object-name>geardoorR</object-name>

    <property-base>sim/model/livery</property-base>
    <texture-prop>texture</texture-prop>
    <texture>texture.png</texture>

  </animation>
    <!--
   <animation>
   <type>rotate</type>
   <object-name>front-airbrakes-handle</object-name>
   <property>surface-positions/speedbrake-pos-norm</property>
   <interpolation>
     <entry>
       <ind>1.0</ind>
       <dep>45</dep>
     </entry>
     <entry>
       <ind>0.02</ind>
       <dep>5.0</dep>
     </entry>
     <entry>
       <ind>0</ind>
       <dep>0</dep>
     </entry>
      </interpolation>
		<center>
			<x-m>0.895516</x-m>
			<y-m>-0.234871</y-m>
			<z-m>-0.058508</z-m>
		</center>
		<axis>
			<x>0</x>
			<y>0.006534</y>
			<z>0</z>
		</axis>
 </animation>
 
    <animation>
   <type>rotate</type>
   <object-name>rear-airbrakes-handle</object-name>
   <property>surface-positions/speedbrake-pos-norm</property>
   <interpolation>
     <entry>
       <ind>1.0</ind>
       <dep>45</dep>
     </entry>
     <entry>
       <ind>0.02</ind>
       <dep>5.0</dep>
     </entry>
     <entry>
       <ind>0</ind>
       <dep>0</dep>
     </entry>
      </interpolation>
		<center>
			<x-m>2.040646</x-m>
			<y-m>-0.234871</y-m>
			<z-m>0.123722</z-m>
		</center>
		<axis>
			<x>0</x>
			<y>0.006534</y>
			<z>0</z>
		</axis>
 </animation>

    <animation>
   <type>rotate</type>
   <object-name>left-top-airbrake</object-name>
   <property>surface-positions/speedbrake-pos-norm</property>
   <interpolation>
     <entry>
       <ind>0</ind>
       <dep>0</dep>
     </entry>
     <entry>
       <ind>0.02</ind>
       <dep>7</dep>
     </entry>
     <entry>
       <ind>1.0</ind>
       <dep>65</dep>
     </entry>
      </interpolation>
		<center>
			<x-m>2.480349</x-m>
			<y-m>-2.693422</y-m>
			<z-m>0.597342</z-m>
		</center>
		<axis>
			<x>-0.01878</x>
			<y>0.002464</y>
			<z>0</z>
		</axis>
 </animation>
 
     <animation>
   <type>rotate</type>
   <object-name>left-bottom-airbrake</object-name>
   <property>surface-positions/speedbrake-pos-norm</property>
   <interpolation>
     <entry>
       <ind>0</ind>
       <dep>0</dep>
     </entry>
     <entry>
       <ind>0.02</ind>
       <dep>7</dep>
     </entry>
     <entry>
       <ind>1.0</ind>
       <dep>65</dep>
     </entry>
      </interpolation>
		<center>
			<x-m>2.409528</x-m>
			<y-m>-3.233188</y-m>
			<z-m>0.647128</z-m>
		</center>
		<axis>
			<x>-0.01878</x>
			<y>0.002464</y>
			<z>0</z>
		</axis>
 </animation>
 
     <animation>
   <type>rotate</type>
   <object-name>right-top-airbrake</object-name>
   <property>surface-positions/speedbrake-pos-norm</property>
   <interpolation>
     <entry>
       <ind>0</ind>
       <dep>0</dep>
     </entry>
     <entry>
       <ind>0.02</ind>
       <dep>7</dep>
     </entry>
     <entry>
       <ind>1.0</ind>
       <dep>65</dep>
     </entry>
      </interpolation>
		<center>
			<x-m>2.480349</x-m>
			<y-m>2.693422</y-m>
			<z-m>0.597343</z-m>
		</center>
		<axis>
			<x>0.01878</x>
			<y>0.002464</y>
			<z>0</z>
		</axis>
 </animation>
 
      <animation>
   <type>rotate</type>
   <object-name>right-bottom-airbrake</object-name>
   <property>surface-positions/speedbrake-pos-norm</property>
   <interpolation>
     <entry>
       <ind>0</ind>
       <dep>0</dep>
     </entry>
     <entry>
       <ind>0.02</ind>
       <dep>7</dep>
     </entry>
     <entry>
       <ind>1.0</ind>
       <dep>65</dep>
     </entry>
      </interpolation>
		<center>
			<x-m>2.409528</x-m>
			<y-m>3.233188</y-m>
			<z-m>0.647128</z-m>
		</center>
		<axis>
			<x>0.01878</x>
			<y>0.002464</y>
			<z>0</z>
		</axis>
 </animation>-->
 
  <!--FLIGHT SURFACES-->
 	<animation>
		<type>rotate</type>
		<object-name>aileronL</object-name>
		<property>surface-positions/left-aileron-pos-norm</property>
		<min-deg>-20</min-deg>
		<max-deg>20</max-deg>
		<factor>-20</factor>
        <axis>
            <x1-m>-0.77124</x1-m>
            <y1-m>-4.01716</y1-m>
            <z1-m>0.1672</z1-m>
            <x2-m>-0.82756</x2-m>
            <y2-m>-7.01616</y2-m>
            <z2-m>0.36742</z2-m>
        </axis>
	</animation>
 
 	<animation>
            <type>rotate</type>
            <object-name>aileronR</object-name>
            <property>surface-positions/left-aileron-pos-norm</property>
            <min-deg>-20</min-deg>
            <max-deg>20</max-deg>
            <factor>-20</factor>
            <axis>
                <x1-m>-0.77124</x1-m>
                <y1-m>4.01716</y1-m>
                <z1-m>0.1672</z1-m>
                <x2-m>-0.82756</x2-m>
                <y2-m>7.01616</y2-m>
                <z2-m>0.36742</z2-m>
            </axis>
	</animation>
 
 	<animation>
		<type>translate</type>
		<object-name>spoilers</object-name>
		<property>surface-positions/speedbrake-pos-norm</property>
		<factor>0.07</factor>
                <axis><z>1</z>
        </axis>
	</animation>
	
	<animation>
		<type>rotate</type>
		<object-name>elevator</object-name>
		<property>surface-positions/elevator-pos-norm</property>
		<min-deg>-20</min-deg>
		<max-deg>20</max-deg>
		<factor>-20</factor>
		<center>
                        <x-m>2.9236</x-m>
			<z-m>0.92396</z-m>
		</center>
		<axis>
			<x>0</x>
			<y>-3.006192</y>
			<z>0</z>
		</axis>
	</animation>
	
	<animation>
		<type>rotate</type>
		<object-name>rudder</object-name>
		<property>surface-positions/rudder-pos-norm</property>
		<min-deg>-20</min-deg>
		<max-deg>20</max-deg>
		<factor>20</factor>
                <axis>
                    <x1-m>2.90435</x1-m>
                    <y1-m>0.0</y1-m>
                    <z1-m>-0.26354</z1-m>
                    <x2-m>3.04985</x2-m>
                    <y2-m>0.0</y2-m>
                    <z2-m>0.91055</z2-m>
                </axis>
	</animation>
 
  
 	<animation>
		<type>rotate</type>
		<object-name>yoke</object-name>
		<property>controls/flight/elevator</property>
		<min-deg>-20</min-deg>
		<max-deg>20</max-deg>
		<factor>20</factor>
		<center>
			<x-m>-2.19743</x-m>
			<z-m>-0.2021</z-m>
		</center>
		<axis>
			<x>0</x>
			<y>-0.020925</y>
			<z>0</z>
		</axis>
	</animation>
	

 	<animation>
		<type>rotate</type>
		<object-name>yoke</object-name>
		<property>controls/flight/aileron</property>
		<min-deg>-25</min-deg>
		<max-deg>25</max-deg>
		<factor>-25</factor>
		<center>
			<x-m>-2.19743</x-m>
			<z-m>-0.2021</z-m>
		</center>
		<axis>
			<x>1</x>
			<y>0</y>
			<z>0</z>
		</axis>
	</animation>
        <!--Spoiler Handle-->
  <animation>
    <type>slider</type>
		<object-name>spoiler.handle</object-name>
    <visible>true</visible>
    <drag-direction>vertical</drag-direction>
    <action>
      <button>0</button>
      <repeatable>false</repeatable>
      <binding>
        <command>property-adjust</command>
		<property>controls/engines/engine/throttle</property>
    <factor>0.025</factor>
    <min>0</min>
    <max>1</max>
      </binding>
    </action>
  </animation>
 	 <animation>
		<type>translate</type>
		<object-name>spoiler.handle</object-name>
		<property>controls/engines/engine/throttle</property>
		<axis>
			<x>1</x>
			<y>0.0</y>
			<z>0</z>
		</axis>
                <interpolation>
                    <entry>
                        <ind>1</ind>
                        <dep>0</dep>
                    </entry>
                    <entry>
                        <ind>0.7</ind>
                        <dep>0.15</dep>
                    </entry>
                    <entry>
                        <ind>0.0</ind>
                        <dep>0.15</dep>
                    </entry>
      </interpolation>
	</animation>
 	 <animation>
		<type>translate</type>
		<object-name>spoiler.handle</object-name>
		<property>controls/engines/engine/throttle</property>
		<axis>
			<x>1</x>
			<y>0.4</y>
			<z>0</z>
		</axis>
                <interpolation>
                    <entry>
                        <ind>1</ind>
                        <dep>0</dep>
                    </entry>
                    <entry>
                        <ind>0.65</ind>
                        <dep>0.0</dep>
                    </entry>
                    <entry>
                        <ind>0.50</ind>
                        <dep>0.025</dep>
                    </entry>
                    <entry>
                        <ind>0.0</ind>
                        <dep>0.025</dep>
                    </entry>
      </interpolation>
	</animation>
 	 <animation>
		<type>translate</type>
		<object-name>spoiler.handle</object-name>
		<property>controls/engines/engine/throttle</property>
		<axis>
			<x>1</x>
			<y>0.0</y>
			<z>0</z>
		</axis>
                <interpolation>
                    <entry>
                        <ind>1</ind>
                        <dep>0</dep>
                    </entry>
                    <entry>
                        <ind>0.5</ind>
                        <dep>0.0</dep>
                    </entry>
                    <entry>
                        <ind>0.0</ind>
                        <dep>0.12</dep>
                    </entry>
      </interpolation>
	</animation>
        <!--Elevator trim handle-->
  <animation>
    <type>slider</type>
		<object-name>trim.handle</object-name>
    <visible>true</visible>
    <drag-direction>vertical</drag-direction>
    <action>
      <button>0</button>
      <repeatable>false</repeatable>
      <binding>
        <command>property-adjust</command>
		<property>controls/flight/elevator-trim</property>
    <factor>0.025</factor>
    <min>-1</min>
    <max>1</max>
      </binding>
    </action>
  </animation>
 	 <animation>
		<type>translate</type>
		<object-name>trim.handle</object-name>
		<property>controls/flight/elevator-trim</property>
		<axis>
			<x>1</x>
			<y>0.0</y>
			<z>0</z>
		</axis>
                <factor>-0.035</factor>
	</animation>
	
	
 <animation>
  <type>rotate</type>
  <object-name>front-left-pedal_</object-name>
		<property>surface-positions/rudder-pos-norm</property>
		<min-deg>-25</min-deg>
		<max-deg>25</max-deg>
		<factor>25</factor>
		<center>
			<x-m>0.390158</x-m>
			<y-m>-0.103514</y-m>
			<z-m>0.034231</z-m>
		</center>
		<axis>
			<x>0</x>
			<y>-1</y>
			<z>0</z>
		</axis>
 </animation>	
 
  <animation>
  <type>rotate</type>
  <object-name>front-right-pedal_</object-name>
		<property>surface-positions/rudder-pos-norm</property>
		<min-deg>-25</min-deg>
		<max-deg>25</max-deg>
		<factor>-25</factor>
		<center>
			<x-m>0.390246</x-m>
			<y-m>0.103461</y-m>
			<z-m>0.033928</z-m>
		</center>
		<axis>
			<x>0</x>
			<y>-1</y>
			<z>0</z>
		</axis>
 </animation>
 
  <animation>
  <type>rotate</type>
  <object-name>rear-left-pedal_</object-name>
		<property>surface-positions/rudder-pos-norm</property>
		<min-deg>-25</min-deg>
		<max-deg>25</max-deg>
		<factor>-25</factor>

		<center>
			<x-m>1.45867</x-m>
			<y-m>-0.22577</y-m>
			<z-m>-0.104397</z-m>
		</center>
		<axis>
			<x>0</x>
			<y>-1</y>
			<z>0</z>
		</axis>
 </animation>
 
   <animation>
  <type>rotate</type>
  <object-name>rear-right-pedal_</object-name>
		<property>surface-positions/rudder-pos-norm</property>
		<min-deg>-25</min-deg>
		<max-deg>25</max-deg>
		<factor>25</factor>

		<center>
			<x-m>1.45867</x-m>
			<y-m>0.22577</y-m>
			<z-m>-0.104397</z-m>
		</center>
		<axis>
			<x>0</x>
			<y>-1</y>
			<z>0</z>
		</axis>
 </animation>
	
 </PropertyList>
